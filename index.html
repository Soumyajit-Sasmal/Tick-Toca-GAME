<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe | Neon Glow Edition</title>
<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Poppins",sans-serif;
}

/* ---------- Video Background ---------- */
.video-bg{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
  filter:brightness(0.5) blur(2px);
}

/* ---------- Main Body ---------- */
body{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  color:#fff;
}

/* ---------- Neon Game Title ---------- */
h1{
  font-size:2.2rem;
  color:#fff;
  text-shadow:0 0 10px #00eaff,0 0 20px #00eaff,0 0 40px #00eaff;
  letter-spacing:2px;
  margin-bottom:10px;
  animation:glowTitle 2s ease-in-out infinite alternate;
}
@keyframes glowTitle{
  from{text-shadow:0 0 15px #ff4b2b,0 0 30px #ff416c;}
  to{text-shadow:0 0 25px #00c9ff,0 0 50px #2575fc;}
}

/* ---------- Player Info Section ---------- */
.players{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:25px;
  margin-bottom:20px;
  font-size:1.2rem;
  font-weight:600;
}
.players span{
  padding:8px 18px;
  border-radius:15px;
  background:rgba(255,255,255,0.1);
  box-shadow:0 0 10px rgba(255,255,255,0.5);
  backdrop-filter:blur(6px);
  transition:transform 0.3s ease, box-shadow 0.3s ease;
}
.players span:hover{
  transform:scale(1.1);
  box-shadow:0 0 25px #fff;
}
.cross-label{color:#ff4b2b;}
.circle-label{color:#00eaff;}

/* ---------- Game board container ---------- */
.cont{
  width:85vmin;
  height:85vmin;
  max-width:450px;
  max-height:450px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:center;
  gap:2vmin;
  background:rgba(255,255,255,0.1);
  border-radius:2vmin;
  padding:2vmin;
  box-shadow:0 0 30px rgba(0,0,0,0.6), 0 0 25px #00ffff;
  backdrop-filter:blur(8px);
  position:relative;
}

/* ---------- Each Tic Tac Toe box ---------- */
.box{
  width:28%;
  aspect-ratio:1/1;
  border-radius:1vmin;
  border:2px solid rgba(255,255,255,0.7);
  background-color:rgba(255,255,255,0.1);
  background-size:80%;
  background-position:center;
  background-repeat:no-repeat;
  cursor:pointer;
  transition:all .25s ease;
}
.box:hover{
  transform:scale(1.08);
  background-color:rgba(255,255,255,0.25);
}

/* ---------- Winning highlight animation ---------- */
.win{
  animation:glowWin 1s ease infinite alternate;
  border-color:#fff;
  box-shadow:0 0 20px 5px #fff;
}
@keyframes glowWin{
  0%{box-shadow:0 0 10px 2px #fff;transform:scale(1.05);}
  100%{box-shadow:0 0 25px 10px #fff;transform:scale(1.1);}
}

/* ---------- Winning Line ---------- */
.win-line{
  position:absolute;
  height:4px;
  background:#ffeb3b;
  border-radius:10px;
  box-shadow:0 0 15px #fff800,0 0 30px #ffeb3b;
  transform-origin:center;
  animation:drawLine .6s ease forwards;
}
@keyframes drawLine{
  0%{width:0;opacity:0;}
  100%{width:100%;opacity:1;}
}

/* ---------- Winner Modal ---------- */
.modal{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) scale(0.5);
  width:80%;
  max-width:320px;
  padding:20px;
  border-radius:1em;
  color:#fff;
  font-size:1.5rem;
  text-align:center;
  background:rgba(0,0,0,0.85);
  box-shadow:0 0 30px rgba(0,0,0,0.7);
  opacity:0;
  transition:all 0.6s ease;
  z-index:1000;
}
.modal.show{
  transform:translate(-50%,-50%) scale(1);
  opacity:1;
}
.modal span{
  display:inline-block;
  animation:floatText 1.2s ease-in-out infinite alternate;
  letter-spacing:1.5px;
}
@keyframes floatText{
  0%{transform:translateY(6px);opacity:0.8;}
  100%{transform:translateY(-6px);opacity:1;}
}

/* ---------- Reset Button ---------- */
#resetBtn{
  margin-top:25px;
  padding:10px 25px;
  font-size:1.2rem;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#ff4b2b,#ff416c);
  color:#fff;
  cursor:pointer;
  transition:0.3s;
  box-shadow:0 0 15px rgba(255,255,255,0.5);
}
#resetBtn:hover{
  transform:scale(1.08);
  box-shadow:0 0 25px rgba(255,255,255,0.8);
}

/* ---------- Responsive ---------- */
@media (max-width:700px){
  h1{font-size:1.6rem;}
  .modal{font-size:5vw;width:85%;padding:15px;}
}
</style>
</head>
<body>

<!-- üåà Video Background -->
<video autoplay muted loop class="video-bg">
  <source src="batch.mp4" type="video/mp4">
</video>

<!-- üî• Game Title -->
<h1>‚ú® Tic Tac Toe ‚Äì GAME ‚ú®</h1>

<!-- ‚öîÔ∏è Player Info -->
<div class="players">
  <span class="cross-label">‚ùå Player CROSS</span>
  <span class="circle-label">‚≠ï Player CIRCLE</span>
</div>

<!-- üéÆ Game Board -->
<div class="cont" id="board">
  <div class="box" onclick="mclick(0);disp();checkwin()"></div>
  <div class="box" onclick="mclick(1);disp();checkwin()"></div>
  <div class="box" onclick="mclick(2);disp();checkwin()"></div>
  <div class="box" onclick="mclick(3);disp();checkwin()"></div>
  <div class="box" onclick="mclick(4);disp();checkwin()"></div>
  <div class="box" onclick="mclick(5);disp();checkwin()"></div>
  <div class="box" onclick="mclick(6);disp();checkwin()"></div>
  <div class="box" onclick="mclick(7);disp();checkwin()"></div>
  <div class="box" onclick="mclick(8);disp();checkwin()"></div>
</div>

<!-- üîÅ Reset Button -->
<button id="resetBtn" onclick="resetGame()">üîÑ Reset Game</button>

<!-- üèÜ Winner Modal -->
<div class="modal" id="md"></div>

<script>
let ch=1;         // choees cross=1  if -1 so,circle 
let ar=[0,0,0,0,0,0,0,0,0];  // array 0-8

function mclick(x){  
  if(ar[x]==0){  // if the box is ttally blank so, in that case value replace with in array index,....
    ar[x]=ch;
    ch*=-1;    
  }
}

function disp(){
  const boxes=document.querySelectorAll(".box");//boxes variable to store box[0]element.box[1],box[2].....
  for(let i=0;i<9;i++){
    if(ar[i]==1)  // cross
      boxes[i].style.cssText="background-image:url('cross.png');background-size:80%;";
    else if(ar[i]==-1)  // circle 
      boxes[i].style.cssText="background-image:url('circle.png');background-size:80%;";
  }
}

function checkwin(){
  const m=document.getElementById("md");  //the winner message box(id="md")
  const boxes=document.querySelectorAll(".box");  //all 9 game squares (class="box")
  const board=document.getElementById("board");   //the main game area (id="board")

  const winCombos=[
    [0,1,2],[3,4,5],[6,7,8],  // horizentaly
    [0,3,6],[1,4,7],[2,5,8],  //vertically
    [0,4,8],[2,4,6]   //digonal         //Lists all possible winning positions in Tic Tac Toe.
                                 //Each inner array means three boxes in a row (horizontal, vertical, or diagonal) that make a win.
  ];

  // Corresponding line style for each win pattern
  const lineStyles=[
    {top:"16%",left:"0",rotate:"0deg"},    // row1 
    {top:"49%",left:"0",rotate:"0deg"},    //row2
    {top:"82%",left:"0",rotate:"0deg"},     // row3
    {top:"50%",left:"-34%",rotate:"90deg"},  // col1
    {top:"50%",left:"0%",rotate:"90deg"},    //col2
    {top:"50%",left:"34%",rotate:"90deg"},   //col3
    {top:"49%",left:"0",rotate:"45deg"},   // diag ‚Üò
    {top:"49%",left:"0",rotate:"-45deg"}   // diag ‚Üô
  ];

  
  let winner = 0, winIndex = -1;

  for (let i = 0; i < winCombos.length; i++) {     // 3 box a,b,c
    const [a, b, c] = winCombos[i];
    if (ar[a] && ar[a] === ar[b] && ar[b] === ar[c]) {
      winner = ar[a];
      winIndex = i;
      boxes[a].classList.add("win");
      boxes[b].classList.add("win");
      boxes[c].classList.add("win");
      break;
    }
  }

  // draw winning line
  if (winIndex >= 0) {
    const line = document.createElement("div");
    const s = lineStyles[winIndex];
    line.className = "win-line";
    line.style.top = s.top;
    line.style.left = s.left;
    line.style.transform = `rotate(${s.rotate})`;
    board.appendChild(line);
  }

  // show winner
  if (winner === 1) {
    m.style.background = "linear-gradient(135deg,#ff416c,#ff4b2b)";
    m.innerHTML = "<span>üî• Team CROSS Wins üî•</span>";
    m.classList.add("show");
  } 
  else if (winner === -1) {
    m.style.background = "linear-gradient(135deg,#00c9ff,#92fe9d)";
    m.innerHTML = "<span>üèÜ Team CIRCLE Wins üèÜ</span>";
    m.classList.add("show");
  }
}

function resetGame() {
  ch = 1;    // at fiest choses =1 means cross if 1.-1=-1 so,ctrcle represent 
  ar = [0,0,0,0,0,0,0,0,0];  // ARRAY 

  let boxes = document.querySelectorAll(".box");// ARRAY WISE STORE box[0],box[1].......
  for (let i = 0; i < boxes.length; i++) {
    boxes[i].style.backgroundImage = "";
    boxes[i].classList.remove("win");   // removes CSS class 'win'
  }

  let lines = document.querySelectorAll(".win-line");
  for (let i = 0; i < lines.length; i++) {
    lines[i].remove();  
  }

  document.getElementById("md").classList.remove("show");
}
//classList = control the element‚Äôs CSS classes (add / remove / toggle).
</script>
</body>
</html>

<!-- This code checks who wins the game ‚Äî

It goes through all winning patterns (winCombos).

If 3 same marks are found ‚Üí it stores the winner and highlights those boxes.

Then it draws a line on the winning row/column/diagonal.

Finally, it shows the winner message (CROSS üî• or CIRCLE üèÜ).




winner = 0 ‚Üí means no player has won yet

winIndex = -1 ‚Üí means no winning line found yet -->



<!--This part checks every win pattern.
If three boxes have the same symbol, it a,b,c :

Saves who won (winner)

Saves which pattern (winIndex)

Highlights those 3 boxes (adds "win" class)

Then stops checking (break)-->




<!--
If a win is found (winIndex >= 0):

Create a new line (div)div means a division ‚Äî a box or section in HTML used to hold or group content.

Set its position and rotation from lineStyles

Add it to the game board ‚Üí shows the winning line-->